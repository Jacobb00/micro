{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import productService from'../services/product.service';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Products=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[categories,setCategories]=useState([]);const[selectedCategory,setSelectedCategory]=useState('');useEffect(()=>{const fetchProducts=async()=>{try{setLoading(true);const response=await productService.getProducts(selectedCategory);setProducts(response.products);setLoading(false);}catch(err){setError('Failed to load products. Please try again later.');setLoading(false);}};const fetchCategories=async()=>{try{const categories=await productService.getCategories();setCategories(categories);}catch(err){console.error('Failed to load categories',err);}};fetchProducts();fetchCategories();},[selectedCategory]);const handleCategoryChange=e=>{setSelectedCategory(e.target.value);};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\"})});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Products\"}),/*#__PURE__*/_jsx(Link,{to:\"/products/new\",className:\"btn btn-primary\",children:\"Add New Product\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:selectedCategory,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})}),products.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:\"No products found.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-md-3 g-4\",children:products.map(product=>/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100\",children:[product.imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,className:\"card-img-top\",alt:product.name,style:{height:'200px',objectFit:'cover'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[product.description.substring(0,100),\"...\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"fs-5\",children:[\"$\",product.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"span\",{className:`badge ${product.stockQuantity>0?'bg-success':'bg-danger'}`,children:product.stockQuantity>0?'In Stock':'Out of Stock'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Link,{to:`/products/${product.id}`,className:\"btn btn-sm btn-outline-primary\",children:\"View Details\"}),/*#__PURE__*/_jsx(Link,{to:`/products/edit/${product.id}`,className:\"btn btn-sm btn-outline-secondary\",children:\"Edit\"})]})]})},product.id))})]});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","Link","productService","jsx","_jsx","jsxs","_jsxs","Products","products","setProducts","loading","setLoading","error","setError","categories","setCategories","selectedCategory","setSelectedCategory","fetchProducts","response","getProducts","err","fetchCategories","getCategories","console","handleCategoryChange","e","target","value","className","children","role","to","onChange","map","category","length","product","imageUrl","src","alt","name","style","height","objectFit","description","substring","price","toFixed","stockQuantity","id"],"sources":["C:/Users/celik/OneDrive/Masaüstü/micro/frontend/src/pages/Products.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport productService from '../services/product.service';\r\nimport { Product } from '../types/Product';\r\n\r\nconst Products: React.FC = () => {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [categories, setCategories] = useState<string[]>([]);\r\n  const [selectedCategory, setSelectedCategory] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await productService.getProducts(selectedCategory);\r\n        setProducts(response.products);\r\n        setLoading(false);\r\n      } catch (err: any) {\r\n        setError('Failed to load products. Please try again later.');\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const categories = await productService.getCategories();\r\n        setCategories(categories);\r\n      } catch (err) {\r\n        console.error('Failed to load categories', err);\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n    fetchCategories();\r\n  }, [selectedCategory]);\r\n\r\n  const handleCategoryChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    setSelectedCategory(e.target.value);\r\n  };\r\n\r\n  if (loading) return <div className=\"text-center my-5\"><div className=\"spinner-border\" role=\"status\"></div></div>;\r\n  if (error) return <div className=\"alert alert-danger\">{error}</div>;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <h2>Products</h2>\r\n        <Link to=\"/products/new\" className=\"btn btn-primary\">Add New Product</Link>\r\n      </div>\r\n      \r\n      <div className=\"mb-4\">\r\n        <select \r\n          className=\"form-select\" \r\n          value={selectedCategory} \r\n          onChange={handleCategoryChange}\r\n        >\r\n          <option value=\"\">All Categories</option>\r\n          {categories.map(category => (\r\n            <option key={category} value={category}>{category}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {products.length === 0 ? (\r\n        <div className=\"alert alert-info\">No products found.</div>\r\n      ) : (\r\n        <div className=\"row row-cols-1 row-cols-md-3 g-4\">\r\n          {products.map(product => (\r\n            <div className=\"col\" key={product.id}>\r\n              <div className=\"card h-100\">\r\n                {product.imageUrl && (\r\n                  <img \r\n                    src={product.imageUrl} \r\n                    className=\"card-img-top\" \r\n                    alt={product.name} \r\n                    style={{ height: '200px', objectFit: 'cover' }}\r\n                  />\r\n                )}\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{product.name}</h5>\r\n                  <p className=\"card-text\">{product.description.substring(0, 100)}...</p>\r\n                  <div className=\"d-flex justify-content-between align-items-center\">\r\n                    <span className=\"fs-5\">${product.price.toFixed(2)}</span>\r\n                    <span className={`badge ${product.stockQuantity > 0 ? 'bg-success' : 'bg-danger'}`}>\r\n                      {product.stockQuantity > 0 ? 'In Stock' : 'Out of Stock'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card-footer d-flex justify-content-between\">\r\n                  <Link to={`/products/${product.id}`} className=\"btn btn-sm btn-outline-primary\">\r\n                    View Details\r\n                  </Link>\r\n                  <Link to={`/products/edit/${product.id}`} className=\"btn btn-sm btn-outline-secondary\">\r\n                    Edit\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}